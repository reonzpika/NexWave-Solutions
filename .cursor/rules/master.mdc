---
description: "Master Rule - Comprehensive governance for multi-project management and documentation integrity"
alwaysApply: false
globs: []
---

# Master Rule

## Purpose and Scope
This document is the authoritative source of truth for how the AI manages multiple projects, enforces documentation consistency, validates metadata, and delegates to domain-specific rules. It defines the policies, workflows, and safeguards that ensure reliable, repeatable project operations.

## Core Principles
- Single Source of Truth: Root `PROJECTS_OVERVIEW.md` is the global dashboard; each project folder has exactly one `PROJECT_SUMMARY.md` as the project's canonical record.
- Minimal Surprises: Structural or destructive changes require explicit confirmation.
- Consistency Over Time: Keep metadata and content synchronized; avoid drift between instructions, files, and memory.
- Template-First: Prefer `/Templates/` for creating new projects or augmenting structure; create a new template only when none is suitable.
- Delegation: The short dispatcher (`.cursor/rules/current-task.mdc`) governs the interactive loop; this Master Rule governs policies and execution details.

## Project Structure and Governance
- Root level contains:
  - Global `PROJECTS_OVERVIEW.md` dashboard summarizing all projects.
  - `/Templates/` containing scenario templates and an index.
  - One directory per project with its own `PROJECT_SUMMARY.md`.
- Prohibited:
  - Multiple `PROJECT_SUMMARY.md` files in the same project folder.
  - Storing authoritative project data outside the project `PROJECT_SUMMARY.md`.

## Metadata Policy (YAML front matter)
All root `PROJECTS_OVERVIEW.md` and project `PROJECT_SUMMARY.md` files must begin with YAML front matter.

Required fields:
- `project_name` (string)
- `project_stage` (enum: Ideation | Validation | Build | Operational | Archived)
- `owner` (string)
- `last_updated` (ISO date string)
- `version` (semver string)
- `tags` (array of strings)

Optional fields:
- `summary`, `links` (map of name->url), `stakeholders` (array), `milestones` (array), `risks` (array)

Validation rules:
- Ensure required fields exist and are non-empty.
- `version` must be a valid semver (e.g., 1.0.0). If unsure, bump patch.
- `last_updated` must be set to current date when material edits occur.
- Normalize `project_stage` to one of the allowed values; prompt if ambiguous.

## Dashboard Management (Root `PROJECTS_OVERVIEW.md`)
- Maintain a table of active projects with folder, status/stage, and last updated.
- When creating a new project, add a row immediately.
- When archiving, move the row to an Archived section or clearly mark status.

## Project `PROJECT_SUMMARY.md` Management
- Treat it as the single source of truth for: overview, goals, milestones, tasks, decisions, links, and status.
- When user requests updates, modify this file directly and atomically.
- Keep sections tidy; prefer concise headings and tables where appropriate.

## Templates
- Match new projects to a template in `/Templates/` using scenario fit.
- If none match, create a new template in `/Templates/` and update `Templates_Index.md`.
- Templates should include:
  - YAML front matter skeleton
  - Recommended sections
  - Example milestones and tags

## Creation and Update Semantics
- File creation: Create missing project directories and `PROJECT_SUMMARY.md` atomically; populate from a template.
- File updates: Make minimal diffs; do not introduce unrelated changes.
- Naming: Use kebab-case for directories; avoid spaces where feasible.
- Confirmations: Ask for confirmation before renames, deletions, or moving content across projects.

## Consistency and Synchronization
- Update `last_updated` and bump `version` (patch) for meaningful changes.
- Keep root dashboard in sync with project status/stage.
- Reflect decisions and milestones immediately to prevent drift.

## Delegation to Domain Rules
- If a domain- or folder-specific rule exists (e.g., under `.cursor/rules/`), follow it for that domain while preserving the principles here.
- The dispatcher rule (`current-task.mdc`) controls the task loop; this Master Rule defines how to perform the work.

## Error Handling and Ambiguities
- Missing/invalid metadata: prompt the user with the exact fields needed.
- Conflicting information: surface the conflict and ask for resolution.
- Template not found: propose the closest template and, if approved, create a new one.

## Operational Loop (When Invoked)
1. Read this Master Rule.
2. Validate context (project, folder, intended change). If unclear, ask for confirmation.
3. Validate metadata and collect missing fields.
4. Plan minimal edits; prefer updating `PROJECT_SUMMARY.md` and `PROJECTS_OVERVIEW.md` directly.
5. Apply the edits atomically; update metadata (`last_updated`, `version`).
6. Update the root dashboard if project status changed.
7. Summarize changes succinctly and confirm completion.

## Safeguards
- Never create multiple sources of truth.
- Never proceed with destructive operations without confirmation.
- Keep edits scoped; avoid cross-project edits unless explicitly requested.

---

# End of Master Rule

